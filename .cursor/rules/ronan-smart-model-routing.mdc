---
description: "Smart model selection based on task complexity and cost optimization"
alwaysApply: true
---

ruleSet:
  name: "ronan-smart-model-routing"
  description: "Auto-selects the appropriate model based on content complexity and matching phrases. Optimized for Markdown files in Obsidian projects."
  trigger:
    fileExtensions: [".md"]

  rules:
    # ðŸ”´ Premium Tier: Claude 4 Sonnet
    - name: "Use Claude 4 for final synthesis or critical architecture"
      if:
        - file.contains("final synthesis")
        - file.contains("comprehensive conclusion")
        - file.contains("critical decision")
        - file.contains("final validation")
        - file.contains("project conclusion")
        - file.contains("major architectural choice")
      then:
        - useModel: "claude-4-sonnet"

    # ðŸŸ  Advanced Tier: Claude 3.7 Sonnet
    - name: "Use Claude 3.7 for continuity and framework development"
      if:
        - file.contains("session continuity")
        - file.contains("meta-collaboration")
        - file.contains("systematic approach")
        - file.contains("implementation gap")
        - file.contains("framework development")
        - file.contains("complex reasoning")
        - file.contains("AI interview")
        - file.contains("template customization")
      then:
        - useModel: "claude-3.7-sonnet"

    # ðŸŸ¡ Efficient Tier: Claude 3.5 Haiku
    - name: "Use Claude 3.5 for standard summaries and dev work"
      if:
        - file.contains("summary")
        - file.contains("insight")
        - file.contains("documentation")
        - file.contains("file processing")
        - file.contains("standard debugging")
        - file.contains("first-pass analysis")
        - file.contains("data manipulation")
      then:
        - useModel: "claude-3.5-haiku"

    # ðŸŸ¢ Economy Tier: Cursor Small
    - name: "Use Cursor Small for routine or structural work"
      if:
        - file.contains("code completion")
        - file.contains("syntax")
        - file.contains("quick fix")
        - file.contains("template structure")
        - file.contains("basic question")
        - file.contains("YAML")
        - file.contains("file organization")
      then:
        - useModel: "cursor-small"

    # ðŸŸ¤ Default fallback for all other markdown files
    - name: "Default to Claude 3.5 Haiku"
      then:
        - useModel: "claude-3.5-haiku"

# Notes:
# - Phrase matching is literal, case-sensitive.
# - Only the first matched rule will apply.
# - Cursor Indexing Ignore still limits visibility; this file operates only on accessible `.md` files.
# - Manual overrides are always allowed via chat: e.g., "Use Claude 4 for this."

